<div class="container mx-auto mt-8 px-4">
  <div class="rounded-xl border border-rose-200 bg-rose-50 p-6 shadow-sm md:p-8">
    <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
      <div>
        <h1 class="text-2xl font-semibold text-slate-900">Errore interno del server</h1>
        <p class="text-sm text-slate-600">
          Si è verificato un problema inatteso. Se ricarichi la pagina, i dettagli potrebbero non
          essere più disponibili.
        </p>
      </div>
      @if (statusCode) {
        <span
          class="inline-flex items-center rounded-full bg-rose-100 px-3 py-1 text-xs font-semibold text-rose-700"
        >
          Codice {{ statusCode }}
        </span>
      }
    </div>

    <div class="mt-6 rounded-lg border border-rose-100 bg-white p-4 shadow-sm">
      <h2 class="text-sm font-semibold text-slate-900">Dettaglio principale</h2>
      @if (title) {
        <p class="mt-2 text-sm text-rose-700">{{ title }}</p>
      } @else {
        <p class="mt-2 text-sm text-slate-600">
          Non abbiamo dettagli tecnici disponibili. Riprova tra poco.
        </p>
      }
    </div>

    <div class="mt-6 grid gap-4 md:grid-cols-2">
      <div class="rounded-lg border border-slate-200 bg-white p-4">
        <h3 class="text-sm font-semibold text-slate-900">Cosa fare ora</h3>
        <ul class="mt-2 list-disc space-y-1 pl-4 text-sm text-slate-600">
          <li>Riprova l’azione tra qualche secondo.</li>
          <li>Verifica la console e la rete del browser per dettagli.</li>
          <li>Se l’errore persiste, contatta il supporto.</li>
        </ul>
      </div>
      <div class="rounded-lg border border-slate-200 bg-white p-4">
        <h3 class="text-sm font-semibold text-slate-900">Azioni rapide</h3>
        <div class="mt-3 flex flex-wrap gap-2">
          <a
            routerLink="/"
            class="inline-flex items-center rounded-md bg-slate-900 px-3 py-2 text-xs font-semibold text-white shadow-sm"
          >
            Torna alla home
          </a>
          <a
            routerLink="/test-error"
            class="inline-flex items-center rounded-md border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700"
          >
            Apri pagina test errori
          </a>
        </div>
      </div>
    </div>

    @if (stackTrace) {
      <div class="mt-6 rounded-lg border border-slate-200 bg-white p-4">
        <details class="group">
          <summary class="cursor-pointer text-sm font-semibold text-slate-900">
            Stack trace e dettagli tecnici
          </summary>
          <pre class="mt-3 whitespace-pre-wrap rounded-md bg-slate-50 p-3 text-xs text-slate-700">{{
            stackTrace
          }}</pre>
        </details>
      </div>
    }
  </div>
</div>
